(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09edb5cc"],{"85f6":function(t,e,o){"use strict";var i=o("fe24"),a=o.n(i);a.a},9390:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"crumbs"},[o("el-breadcrumb",{attrs:{separator:"/"}},[o("el-breadcrumb-item",[o("i",{staticClass:"el-icon-lx-calendar"}),t._v(" 公寓管理")]),o("el-breadcrumb-item",[t._v("添加")])],1)],1),o("div",{staticClass:"container"},[o("div",{staticClass:"form-box"},[o("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"公寓名称"}},[o("el-input",{model:{value:t.form.dormName,callback:function(e){t.$set(t.form,"dormName",e)},expression:"form.dormName"}})],1),o("el-form-item",{attrs:{label:"公寓层数"}},[o("el-input-number",{model:{value:t.form.floorTotal,callback:function(e){t.$set(t.form,"floorTotal",e)},expression:"form.floorTotal"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("添加")]),o("el-button",[t._v("取消")])],1)],1)],1)]),o("div",{staticClass:"crumbs"},[o("el-breadcrumb",{attrs:{separator:"/"}},[o("el-breadcrumb-item",[o("i",{staticClass:"el-icon-lx-calendar"}),t._v(" 公寓管理")]),o("el-breadcrumb-item",[t._v("更新")])],1)],1),o("div",{staticClass:"container"},[o("div",{staticClass:"handle-box"},[o("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:t.dormList,border:""}},[o("el-table-column",{attrs:{prop:"dormName",label:"公寓名称",width:"120"}}),o("el-table-column",{attrs:{prop:"floorTotal",label:"公寓层数",width:"100"}}),o("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(o){return t.handleEdit(e.$index,e.row)}}},[t._v("修改")]),o("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(o){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1)]),o("el-dialog",{attrs:{title:"编辑",visible:t.editVisible,width:"30%"},on:{"update:visible":function(e){t.editVisible=e}}},[o("el-form",{ref:"updateform",attrs:{model:t.updateform,"label-width":"50px"}},[o("el-form-item",{attrs:{label:"公寓名称"}},[o("el-input",{model:{value:t.updateform.dormName,callback:function(e){t.$set(t.updateform,"dormName",e)},expression:"updateform.dormName"}})],1),o("el-form-item",{attrs:{label:"公寓层数"}},[o("el-input",{model:{value:t.updateform.floorTotal,callback:function(e){t.$set(t.updateform,"floorTotal",e)},expression:"updateform.floorTotal"}})],1)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.editVisible=!1}}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.saveEdit}},[t._v("确 定")])],1)],1),o("el-dialog",{attrs:{title:"提示",visible:t.delVisible,width:"300px",center:""},on:{"update:visible":function(e){t.delVisible=e}}},[o("div",{staticClass:"del-dialog-cnt"},[t._v("删除不可恢复，是否确定删除？")]),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.delVisible=!1}}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.deleteRow}},[t._v("确 定")])],1)])],1)},a=[],l={name:"baseform",data:function(){return{dormList:"",editVisible:!1,delVisible:!1,del_dormId:"",updateform:{dormId:"",dormName:"",floorTotal:""},form:{dormName:"",floorTotal:""},idx:-1}},created:function(){this.getInitData()},methods:{onSubmit:function(){var t=this;this.$axios.post(this.GLOBAL.BASE_URL+"/dorm/add",{dorm:this.form}).then(function(e){200!=e.data.status?t.$message.error(e.data.msg):t.$message.success("添加公寓成功")})},getInitData:function(){var t=this;this.$axios.get(this.GLOBAL.BASE_URL+"/dorm/all").then(function(e){t.dormList=e.data})},handleEdit:function(t,e){this.idx=t;var o=this.dormList[t];this.updateform={dormId:o.dormId,dormName:o.dormName,floorTotal:o.floorTotal},this.editVisible=!0},saveEdit:function(){var t=this;this.$set(this.dormList,this.idx,this.updateform),this.editVisible=!1,this.$axios.post(this.GLOBAL.BASE_URL+"/dorm/update",{newDorm:this.updateform}).then(function(e){if(200==e.data.status)return t.$message.success("修改成功"),void(t.editVisible=!1);t.$message.error(e.data.msg)})},handleDelete:function(t,e){this.idx=t,this.delVisible=!0,this.del_dormId=this.dormList[t].dormId},deleteRow:function(){var t=this;this.$axios.post(this.GLOBAL.BASE_URL+"/dorm/delete",{dormId:this.del_dormId}).then(function(e){if(200==e.data.status)return t.$message.success("删除成功"),t.delVisible=!1,void t.getInitData();t.$message.error(e.data.msg)})}}},s=l,r=(o("85f6"),o("2877")),d=Object(r["a"])(s,i,a,!1,null,"2d4478c4",null);e["default"]=d.exports},fe24:function(t,e,o){}}]);