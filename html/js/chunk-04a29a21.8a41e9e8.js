(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04a29a21"],{"37fc":function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("div",{staticClass:"crumbs"},[l("el-breadcrumb",{attrs:{separator:"/"}},[l("el-breadcrumb-item",[l("i",{staticClass:"el-icon-lx-calendar"}),e._v(" 管理学院")]),l("el-breadcrumb-item",[e._v("添加")])],1)],1),l("div",{staticClass:"container"},[l("div",{staticClass:"form-box"},[l("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[l("el-form-item",{attrs:{label:"学院名称"}},[l("el-input",{model:{value:e.form.collegeName,callback:function(t){e.$set(e.form,"collegeName",t)},expression:"form.collegeName"}})],1),l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("添加")]),l("el-button",[e._v("取消")])],1)],1)],1)]),l("hr"),l("div",{staticClass:"crumbs"},[l("el-breadcrumb",{attrs:{separator:"/"}},[l("el-breadcrumb-item",[l("i",{staticClass:"el-icon-lx-calendar"}),e._v(" 管理学院")]),l("el-breadcrumb-item",[e._v("更新")])],1)],1),l("div",{staticClass:"container"},[l("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.collegeList,border:""},on:{"selection-change":e.handleSelectionChange}},[l("el-table-column",{attrs:{prop:"collegeName",label:"学院名称"}}),l("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(l){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),l("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(l){return e.deleteCollege(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1),l("el-dialog",{attrs:{title:"编辑",visible:e.editVisible,width:"30%"},on:{"update:visible":function(t){e.editVisible=t}}},[l("el-form",{ref:"updateform",attrs:{model:e.updateform,"label-width":"50px"}},[l("el-form-item",{attrs:{label:"学院名称"}},[l("el-input",{model:{value:e.updateform.collegeName,callback:function(t){e.$set(e.updateform,"collegeName",t)},expression:"updateform.collegeName"}})],1)],1),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.editVisible=!1}}},[e._v("取 消")]),l("el-button",{attrs:{type:"primary"},on:{click:e.saveEdit}},[e._v("确 定")])],1)],1),l("el-dialog",{attrs:{title:"提示",visible:e.delVisible,width:"300px",center:""},on:{"update:visible":function(t){e.delVisible=t}}},[l("div",{staticClass:"del-dialog-cnt"},[e._v("删除不可恢复，是否确定删除？")]),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.delVisible=!1}}},[e._v("取 消")]),l("el-button",{attrs:{type:"primary"},on:{click:e.deleteCollegeRow}},[e._v("确 定")])],1)])],1)},s=[],a={name:"baseform",data:function(){return{form:{collegeName:""},select_cate:"",select_word:"",del_collegeId:"",del_status:"",collegeList:"",editVisible:!1,delVisible:!1,updateform:{collegeId:"",collegeName:""},idx:-1}},created:function(){this.getInitData()},methods:{onSubmit:function(){var e=this;this.$axios.post(this.GLOBAL.BASE_URL+"/college/add",{college:this.form}).then(function(t){200==t.data.status?(location.reload(),e.$message.success("添加："+e.form.collegeName+"  成功！")):e.$message.error(t.data.msg)})},getInitData:function(){var e=this;this.$axios.get(this.GLOBAL.BASE_URL+"/college/all").then(function(t){e.collegeList=t.data})},formatter:function(e,t){return e.collegeName},filterTag:function(e,t){return t.tag===e},handleEdit:function(e,t){this.idx=e;var l=this.collegeList[e];this.updateform={collegeId:l.collegeId,collegeName:l.collegeName},this.editVisible=!0},deleteCollege:function(e,t){this.idx=e,this.delVisible=!0,this.del_collegeId=this.collegeList[e].collegeId},saveEdit:function(){this.$set(this.collegeList,this.idx,this.updateform),this.editVisible=!1,this.$axios.post(this.GLOBAL.BASE_URL+"/college/update",{newCollege:this.updateform}),this.$message.success("修改名称为"+this.collegeList[this.idx].collegeName+" 行成功")},deleteCollegeRow:function(){var e=this;this.$axios.post(this.GLOBAL.BASE_URL+"/college/delete",{collegeid:this.del_collegeId}).then(function(t){e.del_status=t.data.status,200==e.del_status?(e.collegeList.splice(e.idx,1),e.$message.success("删除编号为"+e.del_collegeId+"的学院成功")):e.$message.warning("删除编号为"+e.del_collegeId+"的学院失败"+t.data.msg)}),200!=this.del_status&&""!=this.del_status&&this.$message.warning("服务器或网络异常"),this.delVisible=!1}}},o=a,c=(l("c612"),l("2877")),n=Object(c["a"])(o,i,s,!1,null,"3736584d",null);t["default"]=n.exports},c612:function(e,t,l){"use strict";var i=l("e3dc"),s=l.n(i);s.a},e3dc:function(e,t,l){}}]);